<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - SkillPort</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <script src="../js/apiService.js"></script>
    <script src="../js/notifications.js"></script>
    <script src="../js/authManager.js"></script>
    <script src="../js/contextManager.js"></script>
    <script src="../js/dataLoader.js"></script>
    <script src="../js/uiHelpers.js"></script>
    <script src="../js/pageController.js"></script>
    <script src="../js/personalProjectsController.js"></script>
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            transition: all 0.2s ease;
        }
        
        .card:hover {
            background: rgba(255, 255, 255, 1);
            border-color: rgba(59, 130, 246, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .project-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
        }

        .category-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .action-button {
            transition: all 0.3s ease;
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .page-header-icon {
            transition: all 0.3s ease;
        }

        .page-header-icon:hover {
            transform: rotate(5deg) scale(1.05);
        }

        .modal-overlay {
            backdrop-filter: blur(8px);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-3 group">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform shadow-lg">
                        <i data-lucide="target" class="w-5 h-5 text-white"></i>
                    </div>
                    <span class="text-xl font-bold bg-gradient-to-r from-slate-900 via-blue-800 to-indigo-700 bg-clip-text text-transparent">
                        SkillPort Personal
                    </span>
                </div>
                
                <div class="hidden md:flex items-center gap-1">
                    <a href="student-dashboard.html" class="nav-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-900">
                        <i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard
                    </a>
                    <a href="projects.html" class="nav-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium bg-blue-50 text-blue-700 shadow-sm">
                        <i data-lucide="folder" class="w-4 h-4"></i> Projects
                    </a>
                    <a href="tracker.html" class="nav-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-900">
                        <i data-lucide="activity" class="w-4 h-4"></i> Tracker
                    </a>
                    <a href="stats.html" class="nav-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-900">
                        <i data-lucide="bar-chart-3" class="w-4 h-4"></i> Stats
                    </a>
                    <a href="communities.html" class="nav-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-900">
                        <i data-lucide="users" class="w-4 h-4"></i> Communities
                    </a>
                    <a href="profile.html" class="nav-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-900">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face" alt="Profile" class="w-8 h-8 rounded-full object-cover shadow-lg border-2 border-white">
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6">
        <!-- Page Header -->
        <div class="flex items-center gap-3 mb-6">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg page-header-icon">
                <i data-lucide="folder" class="w-5 h-5 text-white"></i>
            </div>
            <div>
                <h1 class="text-xl font-bold text-slate-800 mb-1">Projects</h1>
                <p class="text-sm text-slate-600">Showcase your coding projects and track progress</p>
            </div>
        </div>

        <!-- Stats Section -->
        <div class="card rounded-2xl p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg">
                    <i data-lucide="bar-chart-3" class="w-5 h-5 text-white"></i>
                </div>
                <h2 class="text-xl font-bold text-slate-800">Project Overview</h2>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="stat-card rounded-xl p-4 text-center">
                    <div class="flex items-center justify-center gap-2 mb-2">
                        <i data-lucide="folder-open" class="w-5 h-5 text-blue-600"></i>
                        <span class="text-2xl font-bold text-blue-600" id="completed-projects">12</span>
                    </div>
                    <div class="text-sm text-slate-600">Total Projects</div>
                    <div class="text-xs text-blue-600 mt-1">+2 this month</div>
                </div>
                
                <div class="stat-card rounded-xl p-4 text-center">
                    <div class="flex items-center justify-center gap-2 mb-2">
                        <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                        <span class="text-2xl font-bold text-green-600" id="in-progress-projects">8</span>
                    </div>
                    <div class="text-sm text-slate-600">Completed</div>
                    <div class="text-xs text-green-600 mt-1">67% success rate</div>
                </div>
                
                <div class="stat-card rounded-xl p-4 text-center">
                    <div class="flex items-center justify-center gap-2 mb-2">
                        <i data-lucide="clock" class="w-5 h-5 text-amber-600"></i>
                        <span class="text-2xl font-bold text-amber-600" id="web-development-projects">3</span>
                    </div>
                    <div class="text-sm text-slate-600">In Progress</div>
                    <div class="text-xs text-amber-600 mt-1">Active development</div>
                </div>
                
                <div class="stat-card rounded-xl p-4 text-center">
                    <div class="flex items-center justify-center gap-2 mb-2">
                        <i data-lucide="star" class="w-5 h-5 text-purple-600"></i>
                        <span class="text-2xl font-bold text-purple-600" id="mobile-apps-projects">4.8</span>
                    </div>
                    <div class="text-sm text-slate-600">Avg. Rating</div>
                    <div class="text-xs text-purple-600 mt-1">From 24 reviews</div>
                </div>
            </div>
        </div>

        <!-- Project Categories Section -->
        <div class="card rounded-2xl p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-gradient-to-br from-emerald-600 to-teal-600 rounded-xl flex items-center justify-center shadow-lg">
                    <i data-lucide="layers" class="w-5 h-5 text-white"></i>
                </div>
                <h2 class="text-xl font-bold text-slate-800">Project Categories</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="category-card p-4 bg-blue-50 rounded-xl text-center" onclick="showProjectsByCategory('completed')">
                    <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <i data-lucide="check-circle" class="w-6 h-6 text-blue-600"></i>
                    </div>
                    <div class="text-lg font-bold text-slate-800 mb-1">Completed</div>
                    <div class="text-sm text-slate-600">8 projects</div>
                    <div class="text-xs text-blue-600 mt-1">View all →</div>
                </div>
                
                <div class="category-card p-4 bg-amber-50 rounded-xl text-center" onclick="showProjectsByCategory('in-progress')">
                    <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <i data-lucide="clock" class="w-6 h-6 text-amber-600"></i>
                    </div>
                    <div class="text-lg font-bold text-slate-800 mb-1">In Progress</div>
                    <div class="text-sm text-slate-600">3 projects</div>
                    <div class="text-xs text-amber-600 mt-1">View all →</div>
                </div>
                
                <div class="category-card p-4 bg-purple-50 rounded-xl text-center" onclick="showProjectsByCategory('web-dev')">
                    <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <i data-lucide="globe" class="w-6 h-6 text-purple-600"></i>
                    </div>
                    <div class="text-lg font-bold text-slate-800 mb-1">Web Development</div>
                    <div class="text-sm text-slate-600">5 projects</div>
                    <div class="text-xs text-purple-600 mt-1">View all →</div>
                </div>
                
                <div class="category-card p-4 bg-green-50 rounded-xl text-center" onclick="showProjectsByCategory('mobile')">
                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <i data-lucide="smartphone" class="w-6 h-6 text-green-600"></i>
                    </div>
                    <div class="text-lg font-bold text-slate-800 mb-1">Mobile Apps</div>
                    <div class="text-sm text-slate-600">3 projects</div>
                    <div class="text-xs text-green-600 mt-1">View all →</div>
                </div>
            </div>
        </div>

        <!-- Projects List Section -->
        <div class="card rounded-2xl p-6">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-orange-600 to-red-600 rounded-xl flex items-center justify-center shadow-lg">
                        <i data-lucide="folder-open" class="w-5 h-5 text-white"></i>
                    </div>
                    <h2 class="text-xl font-bold text-slate-800">Recent Projects</h2>
                </div>
                <button onclick="showCreateProjectModal()" class="action-button px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2">
                    <i data-lucide="plus" class="w-4 h-4"></i>
                    New Project
                </button>
            </div>
            
            <div class="space-y-4">
                <!-- Completed Projects -->
                <div class="project-card p-4 bg-green-50 rounded-xl" onclick="showProjectDetails('ecommerce')">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <i data-lucide="globe" class="w-6 h-6 text-green-600"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="font-semibold text-slate-800">E-Commerce Platform</h3>
                                <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded">Completed</span>
                            </div>
                            <p class="text-sm text-slate-600">Full-stack e-commerce platform with React, Node.js, and MongoDB</p>
                        </div>
                        <div class="text-right">
                            <div class="text-xs text-slate-500">Completed 2 weeks ago</div>
                            <div class="text-xs text-green-600">1.2k views</div>
                        </div>
                    </div>
                </div>
                
                <div class="project-card p-4 bg-green-50 rounded-xl" onclick="showProjectDetails('dashboard')">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <i data-lucide="bar-chart-3" class="w-6 h-6 text-green-600"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="font-semibold text-slate-800">Data Analytics Dashboard</h3>
                                <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded">Completed</span>
                            </div>
                            <p class="text-sm text-slate-600">Interactive dashboard for visualizing business metrics</p>
                        </div>
                        <div class="text-right">
                            <div class="text-xs text-slate-500">Completed 1 month ago</div>
                            <div class="text-xs text-green-600">856 views</div>
                        </div>
                    </div>
                </div>
                
                <!-- In Progress Projects -->
                <div class="project-card p-4 bg-amber-50 rounded-xl" onclick="showProjectDetails('task-app')">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center">
                            <i data-lucide="smartphone" class="w-6 h-6 text-amber-600"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="font-semibold text-slate-800">Task Management App</h3>
                                <span class="px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded">In Progress</span>
                            </div>
                            <p class="text-sm text-slate-600">Mobile task management app with React Native</p>
                        </div>
                        <div class="text-right">
                            <div class="text-xs text-slate-500">Started 1 month ago</div>
                            <div class="text-xs text-amber-600">65% complete</div>
                        </div>
                    </div>
                </div>
                
                <div class="project-card p-4 bg-blue-50 rounded-xl" onclick="showProjectDetails('ml-classifier')">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <i data-lucide="brain" class="w-6 h-6 text-blue-600"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="font-semibold text-slate-800">ML Image Classifier</h3>
                                <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded">On Hold</span>
                            </div>
                            <p class="text-sm text-slate-600">Machine learning model for image classification</p>
                        </div>
                        <div class="text-right">
                            <div class="text-xs text-slate-500">Paused 2 weeks ago</div>
                            <div class="text-xs text-blue-600">92% accuracy</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions Section -->
        <div class="card rounded-2xl p-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-lg">
                    <i data-lucide="zap" class="w-5 h-5 text-white"></i>
                </div>
                <h2 class="text-xl font-bold text-slate-800">Quick Actions</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button class="action-button w-full p-4 bg-blue-50 hover:bg-blue-100 rounded-xl text-left flex items-center gap-3 transition-colors">
                    <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                        <i data-lucide="download" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                        <div class="font-semibold text-slate-800">Import Project</div>
                        <div class="text-xs text-slate-600">Import from GitHub/GitLab</div>
                    </div>
                </button>
                
                <button class="action-button w-full p-4 bg-emerald-50 hover:bg-emerald-100 rounded-xl text-left flex items-center gap-3 transition-colors">
                    <div class="w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center">
                        <i data-lucide="upload" class="w-5 h-5 text-emerald-600"></i>
                    </div>
                    <div>
                        <div class="font-semibold text-slate-800">Export Portfolio</div>
                        <div class="text-xs text-slate-600">Generate PDF portfolio</div>
                    </div>
                </button>
                
                <button class="action-button w-full p-4 bg-amber-50 hover:bg-amber-100 rounded-xl text-left flex items-center gap-3 transition-colors">
                    <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
                        <i data-lucide="share-2" class="w-5 h-5 text-amber-600"></i>
                    </div>
                    <div>
                        <div class="font-semibold text-slate-800">Share Portfolio</div>
                        <div class="text-xs text-slate-600">Share with potential employers</div>
                    </div>
                </button>
            </div>
        </div>
    </main>

    <!-- Project Details Modal -->
    <div id="projectModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-overlay flex items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-slate-800" id="modalProjectTitle">Project Details</h3>
                <button onclick="closeProjectModal()" class="text-slate-400 hover:text-slate-600">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            
            <div id="modalProjectContent">
                <!-- Project content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div id="createProjectModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-overlay flex items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-6 w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto">
            <!-- Modal Header -->
            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg">
                            <i data-lucide="plus" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-slate-800">Create New Project</h3>
                            <p class="text-slate-600">Add a new project to your portfolio</p>
                        </div>
                    </div>
                    <button onclick="closeCreateProjectModal()" class="text-slate-400 hover:text-slate-600 p-2 hover:bg-white rounded-lg transition-colors">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
            
            <!-- Form Content -->
            <div class="space-y-6">
                <!-- Basic Information -->
                <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                    <h4 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                        <i data-lucide="info" class="w-5 h-5 text-blue-600"></i>
                        Basic Information
                    </h4>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Project Name *</label>
                            <input type="text" id="projectName" placeholder="Enter project name..." 
                                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Description *</label>
                            <textarea id="projectDescription" rows="4" placeholder="Describe your project, its purpose, and key features..." 
                                      class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Project Details -->
                <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                    <h4 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                        <i data-lucide="settings" class="w-5 h-5 text-purple-600"></i>
                        Project Details
                    </h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Category</label>
                            <select id="projectCategory" class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                                <option value="web-dev">🌐 Web Development</option>
                                <option value="mobile">📱 Mobile Apps</option>
                                <option value="ml">🤖 Machine Learning</option>
                                <option value="data-science">📊 Data Science</option>
                                <option value="other">🔧 Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Status</label>
                            <select id="projectStatus" class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                                <option value="planning">📋 Planning</option>
                                <option value="in-progress">⏳ In Progress</option>
                                <option value="completed">✅ Completed</option>
                                <option value="on-hold">⏸️ On Hold</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Technologies -->
                <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                    <h4 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                        <i data-lucide="code" class="w-5 h-5 text-green-600"></i>
                        Technologies Used
                    </h4>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Technologies</label>
                            <input type="text" id="projectTechnologies" placeholder="React, Node.js, MongoDB, Express..." 
                                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                            <p class="text-xs text-slate-500 mt-1">Separate technologies with commas</p>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">GitHub Repository (Optional)</label>
                            <input type="url" id="projectGithub" placeholder="https://github.com/username/project" 
                                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Live Demo URL (Optional)</label>
                            <input type="url" id="projectDemo" placeholder="https://your-project.com" 
                                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                        </div>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                    <h4 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                        <i data-lucide="file-text" class="w-5 h-5 text-amber-600"></i>
                        Additional Information
                    </h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Start Date</label>
                            <input type="date" id="projectStartDate" 
                                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Expected Completion</label>
                            <input type="date" id="projectEndDate" 
                                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <label class="block text-sm font-medium text-slate-700 mb-2">Key Features</label>
                        <textarea id="projectFeatures" rows="3" placeholder="List the main features of your project..." 
                                  class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"></textarea>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="bg-gradient-to-r from-slate-50 to-gray-50 rounded-2xl p-6 mt-6">
                <div class="flex flex-col sm:flex-row gap-3">
                    <button onclick="closeCreateProjectModal()" class="flex-1 px-6 py-3 text-slate-600 border border-slate-300 rounded-xl hover:bg-white font-medium transition-colors flex items-center justify-center gap-2">
                        <i data-lucide="x" class="w-5 h-5"></i>
                        Cancel
                    </button>
                    <button onclick="createNewProject()" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium transition-colors flex items-center justify-center gap-2">
                        <i data-lucide="plus" class="w-5 h-5"></i>
                        Create Project
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        
        // Check authentication on page load
        document.addEventListener('DOMContentLoaded', () => {
          // Check authentication first
          if (window.authManager && !window.authManager.isAuthenticated) {
            window.location.href = '../pages/auth/login.html';
            return;
          }

          // Check if user is personal user
          if (window.authManager && !window.authManager.isPersonalUser()) {
            window.location.href = '../pages/auth/login.html';
            return;
          }

          // Initialize DataManager for dynamic data
          if (window.DataManager) {
            window.DataManager.updateProjectData();
          }
        });

        // Project data
        const projects = {
            'ecommerce': {
                title: 'E-Commerce Platform',
                status: 'Completed',
                description: 'A full-stack e-commerce platform built with React, Node.js, and MongoDB. Features include user authentication, product management, shopping cart, and payment integration.',
                technologies: ['React', 'Node.js', 'MongoDB', 'Express', 'Stripe'],
                category: 'Web Development',
                completionDate: '2 weeks ago',
                views: '1.2k',
                rating: 4.9,
                github: 'https://github.com/username/ecommerce-platform',
                liveDemo: 'https://ecommerce-demo.com',
                features: ['User Authentication', 'Product Management', 'Shopping Cart', 'Payment Integration', 'Admin Dashboard'],
                challenges: 'Implementing real-time inventory management and payment processing',
                solutions: 'Used WebSocket for real-time updates and integrated Stripe for secure payments'
            },
            'dashboard': {
                title: 'Data Analytics Dashboard',
                status: 'Completed',
                description: 'An interactive dashboard for visualizing business metrics using D3.js and React. Includes charts, graphs, and real-time data updates.',
                technologies: ['React', 'D3.js', 'Node.js', 'PostgreSQL', 'Chart.js'],
                category: 'Data Science',
                completionDate: '1 month ago',
                views: '856',
                rating: 4.7,
                github: 'https://github.com/username/analytics-dashboard',
                liveDemo: 'https://dashboard-demo.com',
                features: ['Real-time Charts', 'Data Visualization', 'Export Reports', 'User Management', 'Custom Dashboards'],
                challenges: 'Handling large datasets and creating responsive visualizations',
                solutions: 'Implemented data pagination and used Web Workers for heavy computations'
            },
            'task-app': {
                title: 'Task Management App',
                status: 'In Progress',
                description: 'A mobile task management application built with React Native. Features include task creation, priority levels, due dates, and team collaboration.',
                technologies: ['React Native', 'Firebase', 'Redux', 'Expo', 'AsyncStorage'],
                category: 'Mobile Apps',
                progress: 65,
                startDate: '1 month ago',
                dueDate: '2 weeks',
                github: 'https://github.com/username/task-app',
                features: ['Task Creation', 'Priority Levels', 'Due Dates', 'Team Collaboration', 'Push Notifications'],
                challenges: 'Implementing offline functionality and real-time sync',
                solutions: 'Used AsyncStorage for offline data and Firebase for real-time synchronization'
            },
            'ml-classifier': {
                title: 'ML Image Classifier',
                status: 'On Hold',
                description: 'A machine learning model for image classification using TensorFlow and Python. The model can classify images into 10 different categories with 92% accuracy.',
                technologies: ['Python', 'TensorFlow', 'OpenCV', 'NumPy', 'Pandas'],
                category: 'Machine Learning',
                accuracy: '92%',
                pauseDate: '2 weeks ago',
                github: 'https://github.com/username/ml-classifier',
                features: ['Image Classification', 'Model Training', 'API Endpoint', 'Batch Processing', 'Accuracy Metrics'],
                challenges: 'Achieving high accuracy with limited training data',
                solutions: 'Used data augmentation and transfer learning with pre-trained models'
            }
        };

        function showProjectsByCategory(category) {
            // Filter and display projects by category
            console.log('Showing projects for category:', category);
            // Implementation for filtering projects
        }
    </script>

        function showProjectDetails(projectId) {
            const project = projects[projectId];
            if (!project) return;

            document.getElementById('modalProjectTitle').textContent = project.title;
            
            const content = `
                <div class="space-y-8">
                    <!-- Project Header -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6">
                        <div class="flex items-center gap-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg">
                                <i data-lucide="folder" class="w-10 h-10 text-white"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-4 mb-3">
                                    <h4 class="text-2xl font-bold text-slate-800">${project.title}</h4>
                                    <span class="px-4 py-2 bg-${getStatusColor(project.status)}-100 text-${getStatusColor(project.status)}-700 text-sm font-semibold rounded-full shadow-sm">
                                        <i data-lucide="${getStatusIcon(project.status)}" class="w-4 h-4 inline mr-2"></i>
                                        ${project.status}
                                    </span>
                                </div>
                                <p class="text-slate-600 text-lg leading-relaxed">${project.description}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Project Stats -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-white rounded-xl p-4 text-center border border-slate-200 shadow-sm">
                            <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-2">
                                <i data-lucide="layers" class="w-5 h-5 text-blue-600"></i>
                            </div>
                            <div class="text-sm text-slate-600">Category</div>
                            <div class="font-semibold text-slate-800">${project.category}</div>
                        </div>
                        
                        ${project.completionDate ? `<div class="bg-white rounded-xl p-4 text-center border border-slate-200 shadow-sm">
                            <div class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-2">
                                <i data-lucide="calendar" class="w-5 h-5 text-green-600"></i>
                            </div>
                            <div class="text-sm text-slate-600">Completed</div>
                            <div class="font-semibold text-slate-800">${project.completionDate}</div>
                        </div>` : ''}
                        
                        ${project.views ? `<div class="bg-white rounded-xl p-4 text-center border border-slate-200 shadow-sm">
                            <div class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-2">
                                <i data-lucide="eye" class="w-5 h-5 text-purple-600"></i>
                            </div>
                            <div class="text-sm text-slate-600">Views</div>
                            <div class="font-semibold text-slate-800">${project.views}</div>
                        </div>` : ''}
                        
                        ${project.rating ? `<div class="bg-white rounded-xl p-4 text-center border border-slate-200 shadow-sm">
                            <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center mx-auto mb-2">
                                <i data-lucide="star" class="w-5 h-5 text-amber-600"></i>
                            </div>
                            <div class="text-sm text-slate-600">Rating</div>
                            <div class="font-semibold text-slate-800">${project.rating}/5</div>
                        </div>` : ''}
                    </div>

                    <!-- Technologies -->
                    <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                        <h5 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                            <i data-lucide="code" class="w-5 h-5 text-blue-600"></i>
                            Technologies Used
                        </h5>
                        <div class="flex flex-wrap gap-2">
                            ${project.technologies.map(tech => `
                                <span class="px-3 py-2 bg-blue-50 text-blue-700 text-sm font-medium rounded-lg border border-blue-200">
                                    <i data-lucide="zap" class="w-3 h-3 inline mr-1"></i>
                                    ${tech}
                                </span>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Features -->
                    <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                        <h5 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                            <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                            Key Features
                        </h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            ${project.features.map(feature => `
                                <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200">
                                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                        <i data-lucide="check" class="w-4 h-4 text-green-600"></i>
                                    </div>
                                    <span class="text-sm font-medium text-slate-700">${feature}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    ${project.challenges ? `
                    <!-- Challenges & Solutions -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                            <h5 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                                <i data-lucide="alert-triangle" class="w-5 h-5 text-red-600"></i>
                                Challenges Faced
                            </h5>
                            <div class="p-4 bg-red-50 rounded-lg border border-red-200">
                                <p class="text-sm text-slate-700 leading-relaxed">${project.challenges}</p>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
                            <h5 class="font-semibold text-slate-800 mb-4 flex items-center gap-2">
                                <i data-lucide="lightbulb" class="w-5 h-5 text-amber-600"></i>
                                Solutions Implemented
                            </h5>
                            <div class="p-4 bg-amber-50 rounded-lg border border-amber-200">
                                <p class="text-sm text-slate-700 leading-relaxed">${project.solutions}</p>
                            </div>
                        </div>
                    </div>
                    ` : ''}

                    <!-- Action Buttons -->
                    <div class="bg-gradient-to-r from-slate-50 to-gray-50 rounded-2xl p-6">
                        <div class="flex flex-col sm:flex-row gap-3">
                            ${project.github ? `<a href="${project.github}" target="_blank" class="flex-1 px-6 py-3 bg-slate-800 text-white rounded-xl hover:bg-slate-700 text-center font-medium transition-colors flex items-center justify-center gap-2">
                                <i data-lucide="github" class="w-5 h-5"></i>
                                View Code
                            </a>` : ''}
                            ${project.liveDemo ? `<a href="${project.liveDemo}" target="_blank" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 text-center font-medium transition-colors flex items-center justify-center gap-2">
                                <i data-lucide="external-link" class="w-5 h-5"></i>
                                Live Demo
                            </a>` : ''}
                            <button onclick="editProject('${projectId}')" class="flex-1 px-6 py-3 bg-amber-600 text-white rounded-xl hover:bg-amber-700 font-medium transition-colors flex items-center justify-center gap-2">
                                <i data-lucide="edit" class="w-5 h-5"></i>
                                Edit Project
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('modalProjectContent').innerHTML = content;
            document.getElementById('projectModal').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeProjectModal() {
            document.getElementById('projectModal').classList.add('hidden');
        }

        function showCreateProjectModal() {
            document.getElementById('createProjectModal').classList.remove('hidden');
        }

        function closeCreateProjectModal() {
            document.getElementById('createProjectModal').classList.add('hidden');
        }

        function createNewProject() {
            const name = document.getElementById('projectName').value;
            const description = document.getElementById('projectDescription').value;
            const category = document.getElementById('projectCategory').value;
            const status = document.getElementById('projectStatus').value;
            const technologies = document.getElementById('projectTechnologies').value;
            const github = document.getElementById('projectGithub').value;
            const demo = document.getElementById('projectDemo').value;
            const startDate = document.getElementById('projectStartDate').value;
            const endDate = document.getElementById('projectEndDate').value;
            const features = document.getElementById('projectFeatures').value;

            if (!name || !description) {
                alert('Please fill in all required fields (Project Name and Description)');
                return;
            }

            // Here you would typically save the project to your backend
            const projectData = {
                name,
                description,
                category,
                status,
                technologies: technologies.split(',').map(tech => tech.trim()).filter(tech => tech),
                github,
                demo,
                startDate,
                endDate,
                features: features.split(',').map(feature => feature.trim()).filter(feature => feature)
            };
            
            console.log('Creating new project:', projectData);
            
            closeCreateProjectModal();
            alert('Project created successfully!');
        }

        function editProject(projectId) {
            console.log('Editing project:', projectId);
            // Implementation for editing project
        }

        function getStatusColor(status) {
            switch(status) {
                case 'Completed': return 'green';
                case 'In Progress': return 'amber';
                case 'On Hold': return 'blue';
                default: return 'gray';
            }
        }

        function getStatusIcon(status) {
            switch(status) {
                case 'Completed': return 'check-circle';
                case 'In Progress': return 'clock';
                case 'On Hold': return 'pause';
                default: return 'circle';
            }
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-overlay')) {
                closeProjectModal();
                closeCreateProjectModal();
            }
        });

        // Dynamic projects loading functionality
        async function loadProjects() {
            try {
                console.log('Loading projects...');
                showProjectsLoadingState();
                const response = await window.SkillPortAPI.getProjects();
                if (response.success) {
                    displayProjects(response.data);
                } else {
                    console.error('Failed to load projects:', response.message);
                    showStaticProjects();
                }
            } catch (error) {
                console.error('Error loading projects:', error);
                showStaticProjects();
            }
        }

        function displayProjects(projects) {
            const projectsContainer = document.querySelector('.space-y-4');
            if (!projectsContainer) return;

            if (projects.length === 0) {
                projectsContainer.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i data-lucide="folder" class="w-8 h-8 text-slate-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-slate-700 mb-2">No Projects Yet</h3>
                        <p class="text-slate-500">Create your first project to get started!</p>
                    </div>
                `;
                lucide.createIcons();
                return;
            }

            projectsContainer.innerHTML = projects.map(project => createProjectCard(project)).join('');
            lucide.createIcons();
        }

        function createProjectCard(project) {
            const statusColor = getStatusColor(project.status);
            const statusBg = getStatusBg(project.status);
            
            return `
                <div class="project-card p-4 bg-${statusBg} rounded-xl" onclick="showProjectDetails('${project._id}')">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-${statusColor}-100 rounded-xl flex items-center justify-center">
                            <i data-lucide="${getProjectIcon(project.type)}" class="w-6 h-6 text-${statusColor}-600"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-1">
                                <h3 class="font-semibold text-slate-800">${project.name}</h3>
                                <span class="px-2 py-1 bg-${statusColor}-100 text-${statusColor}-700 text-xs font-medium rounded">${project.status}</span>
                            </div>
                            <p class="text-sm text-slate-600">${project.description}</p>
                        </div>
                        <div class="text-right">
                            <div class="text-xs text-slate-500">${getTimeText(project.updatedAt)}</div>
                            <div class="text-xs text-${statusColor}-600">${project.views || 0} views</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function showProjectsLoadingState() {
            const projectsContainer = document.querySelector('.space-y-4');
            if (!projectsContainer) return;
            projectsContainer.innerHTML = `
                <div class="text-center py-12">
                    <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-spin">
                        <i data-lucide="loader-2" class="w-8 h-8 text-slate-400"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-slate-700 mb-2">Loading Projects...</h3>
                    <p class="text-slate-500">Please wait while we fetch your projects</p>
                </div>
            `;
            lucide.createIcons();
        }

        function showStaticProjects() {
            // Keep existing static content as fallback
            console.log('Showing static projects as fallback');
        }

        function getStatusBg(status) {
            switch(status) {
                case 'Completed': return 'green-50';
                case 'In Progress': return 'amber-50';
                case 'On Hold': return 'blue-50';
                case 'Cancelled': return 'red-50';
                default: return 'gray-50';
            }
        }

        function getProjectIcon(type) {
            switch(type) {
                case 'web': return 'globe';
                case 'mobile': return 'smartphone';
                case 'desktop': return 'monitor';
                case 'ai': return 'brain';
                default: return 'folder';
            }
        }

        function getTimeText(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) return 'Updated today';
            if (diffDays < 7) return `Updated ${diffDays} days ago`;
            if (diffDays < 30) return `Updated ${Math.floor(diffDays / 7)} weeks ago`;
            return `Updated ${Math.floor(diffDays / 30)} months ago`;
        }

        // Initialize page functionality
        document.addEventListener('DOMContentLoaded', () => {
            // Set user name in navbar
            const navbarUserName = document.getElementById('navbar-user-name');
            if (navbarUserName) {
                navbarUserName.textContent = 'Alex Johnson';
            }
            
            // Initialize DataManager for dynamic data
            if (window.DataManager) {
                window.DataManager.updateProjectStats();
            }
            
            // Load projects dynamically
            loadProjects();
        });
    </script>
</body>
</html>